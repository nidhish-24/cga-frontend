<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact Us | Career Guidance Academy</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>

<body>

<!-- Navbar -->
<nav class="navbar navbar-dark bg-dark px-3">
  <a class="navbar-brand" href="index.html">
    <img src="./images/cga logo.png" height="40" alt="CGA Logo">
    <span class="fw-bold">Career Guidance Academy</span>
  </a>
  <a class="btn btn-outline-light" href="index.html">Back to Home</a>
</nav>

<div class="contact-box container mt-5 p-4 shadow rounded" style="max-width: 500px;">
    <h3 class="text-center mb-3 fw-bold">Contact Us</h3>
    <p class="text-center text-muted mb-4">We're here to help you plan your future.</p>

    <!-- ✅ Contact Form -->
    <form id="contactForm">
        <div class="mb-3">
            <label class="form-label">Your Name</label>
            <input type="text" id="name" class="form-control" placeholder="Enter your name" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Your Email</label>
            <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Mobile Number</label>
            <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number" maxlength="10" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Message</label>
            <textarea id="message" class="form-control" rows="4" placeholder="How can we help?" required></textarea>
        </div>
        <button id="submitBtn" class="btn btn-primary w-100">Send Message</button>
    </form>

    <hr class="my-4">

    <!-- Contact Info -->
    <div class="text-center">
        <p class="fw-semibold mb-1">Career Guidance Academy</p>
        <p class="text-muted mb-2">careerguidance@gmail.com | +91-82484 66676</p>

        <!-- Social -->
        <div class="social-icons fs-4">
            <a href="https://www.instagram.com/college_guidance_academy/" target="_blank" class="mx-2"><i class="bi bi-instagram"></i></a>
            <a href="https://wa.me/918248466676" target="_blank" class="mx-2"><i class="bi bi-whatsapp"></i></a>
            <a href="tel:8248466676" class="mx-2"><i class="bi bi-telephone-fill"></i></a>
        </div>
    </div>
</div>

<!-- ✅ JS -->
<script>
document.getElementById("contactForm").addEventListener("submit", async function (e) {
  e.preventDefault();

  const btn = document.getElementById("submitBtn");
  btn.innerHTML = "Sending...";
  btn.disabled = true;

  const formData = {
    name: document.getElementById("name").value,
    email: document.getElementById("email").value,
    phone: document.getElementById("phone").value,
    message: document.getElementById("message").value,
  };

  try {
    const response = await fetch("https://cga-backend-9iaz.onrender.com/api/contact", {
      method: "POST",
      mode: "cors",
      headers: { 
        "Content-Type": "application/json"
      },
      body: JSON.stringify(formData),
    });

    const result = await response.json();

    if (result.success) {
      alert("✅ Message Sent Successfully!");
      document.getElementById("contactForm").reset();
    } else {
      alert("❌ Failed to send message. Please try again.");
    }

  } catch (error) {
    alert("⚠️ Server Error. Try again in a moment.");
    console.log(error);
  }

  btn.innerHTML = "Send Message";
  btn.disabled = false;
});
</script>

</body>
</html>


